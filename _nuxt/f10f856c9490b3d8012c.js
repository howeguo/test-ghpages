(window.webpackJsonp=window.webpackJsonp||[]).push([[10],{381:function(e,t,r){"use strict";r.r(t);r(92),r(93);var n,o,c,d,l,m,f,h,k,T,S,v,w,x,E,A,O,_,y,I,R,N,P=r(74),D=(r(32),r(37),r(1)),j=r(5),B=r(6),C=r(313),F=r(75),L=r(178),G={dappFee:function(e){return e.isVIP?0:Object(B.fromWei)(e.txFee,"ether")},txFee:function(e){return e.isVIP?0:e.txFee},vipFee:function(e){return Object(B.fromWei)(e.vipFee,"ether")},bulksenderInstance:function(e,t,r,n){return Object(D.a)(regeneratorRuntime.mark((function e(){var t,o,c,d,l;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.metamask,o=t.ethAccount,c=t.netId,d=F.a["netId".concat(c)].bulksenderContract,e.next=4,n["metamask/web3"]();case 4:return l=e.sent,e.abrupt("return",new l.eth.Contract(C,d,{from:o}));case 6:case"end":return e.stop()}}),e)})))}},H={setGasPrice:(N=Object(D.a)(regeneratorRuntime.mark((function e(t,r){var n,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.state,t.getters,n=t.commit,o=r.gasPrice,n("SET_GAS_PRICE",o);case 3:case"end":return e.stop()}}),e)}))),function(e,t){return N.apply(this,arguments)}),createNewAddress:(R=Object(D.a)(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.state,t.getters,t.commit,e.abrupt("return",(new L).create());case 2:case"end":return e.stop()}}),e)}))),function(e){return R.apply(this,arguments)}),createNewUniqueId:(I=Object(D.a)(regeneratorRuntime.mark((function e(t){var r,n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.state,t.getters,t.commit,r=Date.parse(new Date),n=10*Math.random(),e.abrupt("return",Object(B.fromAscii)(r+"_"+n));case 4:case"end":return e.stop()}}),e)}))),function(e){return I.apply(this,arguments)}),createNewUniqueId_V1:(y=Object(D.a)(regeneratorRuntime.mark((function e(t,r){var n,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.state,t.getters,t.commit,r.fromAddress,r.toAddress,n=Date.parse(new Date),o=10*Math.random(),e.abrupt("return",Object(B.fromAscii)(n+"_"+o));case 5:case"end":return e.stop()}}),e)}))),function(e,t){return y.apply(this,arguments)}),getBulksenderContractAddress:(_=Object(D.a)(regeneratorRuntime.mark((function e(t){var r,n,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.state,r=t.getters,n=t.commit,e.next=3,r.bulksenderInstance();case 3:o=e.sent,n("SET_BULKSENDER_ADDRESS",o._address);case 5:case"end":return e.stop()}}),e)}))),function(e){return _.apply(this,arguments)}),clearUsedParams:(O=Object(D.a)(regeneratorRuntime.mark((function e(t){var r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.state,t.getters,t.dispatch,r=t.commit,t.rootState,r("CLEAR");case 2:case"end":return e.stop()}}),e)}))),function(e){return O.apply(this,arguments)}),initBaseParams:(A=Object(D.a)(regeneratorRuntime.mark((function e(t){var r,n,o,c,d,l,m,f,h;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.state,r=t.getters,n=t.dispatch,o=t.commit,c=t.rootState,e.next=3,r.bulksenderInstance();case 3:d=e.sent,o("SET_BULKSENDER_ADDRESS",d._address),l=c.metamask,m=l.netId,f=l.gasPrice,h=F.a["netId".concat(m)].explorerUrl,console.info(h),o("SET_TX_URL",h.tx),o("SET_ADDRESS_URL",h.address),o("SET_GAS_PRICE",f.fast),n("getTxFee"),n("getVIPFee"),n("getVIPStatus");case 14:case"end":return e.stop()}}),e)}))),function(e){return A.apply(this,arguments)}),getTxFee:(E=Object(D.a)(regeneratorRuntime.mark((function e(t){var r,n,o,c,d,l;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.rootState,n=t.commit,o=t.dispatch,c=t.getters,d=t.rootGetters,t.state,l=d["metamask/networkConfig"].rpcCallRetryAttempt,e.abrupt("return",new Promise((function(e,t){var d=function(){var m=Object(D.a)(regeneratorRuntime.mark((function m(f){var h,k,T,S,data,v,w;return regeneratorRuntime.wrap((function(m){for(;;)switch(m.prev=m.next){case 0:return h=f.retryAttempt,k=void 0===h?1:h,k++,m.prev=2,T=r.metamask.ethAccount,m.next=6,c.bulksenderInstance();case 6:return S=m.sent,data=S.methods.txFee().encodeABI(),v={method:"eth_call",params:[{from:T,to:S._address,data:data},"latest"],from:T},console.log("getTxFee callParams",v),m.next=12,o("metamask/sendAsync",v,{root:!0});case 12:w=m.sent,w=Object(B.hexToNumberString)(w),n("SET_TX_FEE",w),console.log("Tx fee",w),e(w),m.next=22;break;case 19:m.prev=19,m.t0=m.catch(2),k>=l?t(m.t0):d({retryAttempt:k});case 22:case"end":return m.stop()}}),m,null,[[2,19]])})));return function(e){return m.apply(this,arguments)}}();d({})})));case 3:case"end":return e.stop()}}),e)}))),function(e){return E.apply(this,arguments)}),getVIPFee:(x=Object(D.a)(regeneratorRuntime.mark((function e(t){var r,n,o,c,d,l;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.rootState,n=t.commit,o=t.dispatch,c=t.getters,d=t.rootGetters,t.state,l=d["metamask/networkConfig"].rpcCallRetryAttempt,e.abrupt("return",new Promise((function(e,t){var d=function(){var m=Object(D.a)(regeneratorRuntime.mark((function m(f){var h,k,T,S,data,v,w;return regeneratorRuntime.wrap((function(m){for(;;)switch(m.prev=m.next){case 0:return h=f.retryAttempt,k=void 0===h?1:h,k++,m.prev=2,T=r.metamask.ethAccount,m.next=6,c.bulksenderInstance();case 6:return S=m.sent,data=S.methods.VIPFee().encodeABI(),v={method:"eth_call",params:[{from:T,to:S._address,data:data},"latest"],from:T},console.log("getVIPFee callParams",v),m.next=12,o("metamask/sendAsync",v,{root:!0});case 12:w=m.sent,w=Object(B.hexToNumberString)(w),n("SET_VIP_FEE",w),console.log("VIP fee",w),e(w),m.next=22;break;case 19:m.prev=19,m.t0=m.catch(2),k>=l?t(m.t0):d({retryAttempt:k});case 22:case"end":return m.stop()}}),m,null,[[2,19]])})));return function(e){return m.apply(this,arguments)}}();d({})})));case 3:case"end":return e.stop()}}),e)}))),function(e){return x.apply(this,arguments)}),getVIPStatus:(w=Object(D.a)(regeneratorRuntime.mark((function e(t){var r,n,o,c,d,l;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.rootState,n=t.commit,o=t.dispatch,c=t.getters,d=t.rootGetters,t.state,l=d["metamask/networkConfig"].rpcCallRetryAttempt,e.abrupt("return",new Promise((function(e,t){var d=function(){var m=Object(D.a)(regeneratorRuntime.mark((function m(f){var h,k,T,S,data,v,w;return regeneratorRuntime.wrap((function(m){for(;;)switch(m.prev=m.next){case 0:return h=f.retryAttempt,k=void 0===h?1:h,k++,m.prev=2,T=r.metamask.ethAccount,m.next=6,c.bulksenderInstance();case 6:return S=m.sent,data=S.methods.isVIP(T).encodeABI(),v={method:"eth_call",params:[{from:T,to:S._address,data:data},"latest"],from:T},console.log("getTxFee callParams",v),m.next=12,o("metamask/sendAsync",v,{root:!0});case 12:w=m.sent,w=Object(B.hexToNumberString)(w),n("SET_IS_VIP",w=1==w||"1"==w),console.log("VIP Status",w),e(w),m.next=23;break;case 20:m.prev=20,m.t0=m.catch(2),k>=l?t(m.t0):d({retryAttempt:k});case 23:case"end":return m.stop()}}),m,null,[[2,20]])})));return function(e){return m.apply(this,arguments)}}();d({})})));case 3:case"end":return e.stop()}}),e)}))),function(e){return w.apply(this,arguments)}),buyVIP:(v=Object(D.a)(regeneratorRuntime.mark((function e(t,r){var n,o,c;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.state,t.getters,t.rootState,t.rootGetters,n=t.dispatch,o=t.commit,Object(P.a)(r),e.next=4,n("_buyVIP",{});case 4:return c=e.sent,o("SET_VIP_TX_HASH",c),o("SET_VIP_TX_STATUS",0),n("checkBulksenderVIPBuyingTransactionStatus",{txHash:c}),e.abrupt("return",!0);case 9:case"end":return e.stop()}}),e)}))),function(e,t){return v.apply(this,arguments)}),_buyVIP:(S=Object(D.a)(regeneratorRuntime.mark((function e(t,r){var n,o,c,d,l;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.state,o=t.getters,c=t.rootState,t.rootGetters,d=t.dispatch,t.commit,Object(P.a)(r),l=n.checkSimpleTimes,e.abrupt("return",new Promise((function(e,t){var r=function(){var m=Object(D.a)(regeneratorRuntime.mark((function m(f){var h,k,T,S,v,w,data,x,E;return regeneratorRuntime.wrap((function(m){for(;;)switch(m.prev=m.next){case 0:return h=f.retryAttempt,k=void 0===h?1:h,k++,m.prev=2,T=c.metamask.gasPrice.fast,S=c.metamask.ethAccount,m.next=7,o.bulksenderInstance();case 7:return v=m.sent,w=v._address,data=v.methods.registerVIP().encodeABI(),x={method:"eth_sendTransaction",params:[{from:S,to:w,gas:Object(B.numberToHex)(1e5),gasPrice:Object(B.toHex)(Object(B.toWei)(T.toString(),"gwei")),value:Object(B.toHex)(n.vipFee),data:data}],from:S},console.log("buyVIP callParams",x),m.next=14,d("metamask/sendAsync",x,{root:!0});case 14:E=m.sent,e(E),m.next=21;break;case 18:m.prev=18,m.t0=m.catch(2),k>=l||4001==m.t0.code?t(m.t0):r({retryAttempt:k});case 21:case"end":return m.stop()}}),m,null,[[2,18]])})));return function(e){return m.apply(this,arguments)}}();r({})})));case 4:case"end":return e.stop()}}),e)}))),function(e,t){return S.apply(this,arguments)}),_bulksendToken:(T=Object(D.a)(regeneratorRuntime.mark((function e(t,r){var n,o,c,d,l,m,f,h,k,T,S,v;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.state,o=t.getters,c=t.rootState,t.rootGetters,d=t.dispatch,l=t.commit,m=r.tokenAddress,f=r.estimateGas,h=void 0===f?0:f,k=r.decimals,T=r.addresses,S=r.amounts,v=n.checkSimpleTimes,e.abrupt("return",new Promise((function(e,t){var r=function(){var f=Object(D.a)(regeneratorRuntime.mark((function f(w){var x,E,A,O,_,y,I,R,N,P,data,D,j;return regeneratorRuntime.wrap((function(f){for(;;)switch(f.prev=f.next){case 0:return x=w.retryAttempt,E=void 0===x?1:x,E++,f.prev=2,A=c.metamask.ethAccount,f.next=6,o.bulksenderInstance();case 6:return O=f.sent,_=O._address,f.next=10,d("createNewUniqueId");case 10:if(y=f.sent,I=web3.toBigNumber("0"),R=[],S.forEach((function(e){var t=web3.toBigNumber(e).times(web3.toBigNumber(10).pow(parseInt(k)));I=I.plus(t),R.push(t.toString(10))})),N=I.toString(10),R.unshift(N),(P=[].concat(T)).unshift(_),data="0x",!n.simple){f.next=27;break}if(data=O.methods.bulksendTokenSimple(m,P,R,y).encodeABI(),0!=h){f.next=25;break}return f.next=24,O.methods.bulksendTokenSimple(m,P,R,y).estimateGas({from:A,value:Object(B.toHex)(o.txFee)});case 24:h=f.sent;case 25:f.next=32;break;case 27:if(data=O.methods.bulksendToken(m,P,R,y).encodeABI(),0!=h){f.next=32;break}return f.next=31,O.methods.bulksendToken(m,P,R,y).estimateGas({from:A,value:Object(B.toHex)(o.txFee)});case 31:h=f.sent;case 32:return console.log("bulksend tx",h),D={method:"eth_sendTransaction",params:[{from:A,to:_,gas:Object(B.numberToHex)(h+1e5),gasPrice:Object(B.toHex)(Object(B.toWei)(n.gasPrice.toString(),"gwei")),value:Object(B.toHex)(o.txFee),data:data}],from:A},console.log("bulksend callParams",D),f.next=37,d("metamask/sendAsync",D,{root:!0});case 37:j=f.sent,e(j),f.next=44;break;case 41:f.prev=41,f.t0=f.catch(2),E>=v||4001==f.t0.code?(l("ADD_FAILED_TXS",""),4001==f.t0.code?e("User denied transaction signature."):t(f.t0)):r({retryAttempt:E});case 44:case"end":return f.stop()}}),f,null,[[2,41]])})));return function(e){return f.apply(this,arguments)}}();r({})})));case 4:case"end":return e.stop()}}),e)}))),function(e,t){return T.apply(this,arguments)}),bulksendToken:(k=Object(D.a)(regeneratorRuntime.mark((function e(t,r){var n,o,c,d,l,m,f,h,k,T;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.state,t.getters,t.rootState,t.rootGetters,n=t.dispatch,o=t.commit,c=r.uniqueId,d=r.estimateGas,l=void 0===d?0:d,m=r.tokenAddress,f=r.decimals,h=r.addresses,k=r.amounts,e.next=4,n("_bulksendToken",{tokenAddress:m,estimateGas:l,decimals:f,addresses:h,amounts:k});case 4:if("User denied transaction signature."==(T=e.sent)){e.next=14;break}return console.info("txHash",T),o("ADD_TX",T),n("common/updateBulkSentStatus",{status:0,txHash:T,uniqueId:c},{root:!0}),n("checkBulksenderTransactionStatus",{uniqueId:c,txHash:T}),e.abrupt("return",!0);case 14:return e.abrupt("return",!1);case 15:case"end":return e.stop()}}),e)}))),function(e,t){return k.apply(this,arguments)}),bulksendEther:(h=Object(D.a)(regeneratorRuntime.mark((function e(t,r){var n,o,c,d,l,m,f,h,k,T;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.state,t.getters,t.rootState,t.rootGetters,n=t.dispatch,o=t.commit,c=r.uniqueId,d=r.estimateGas,l=void 0===d?0:d,m=r.tokenAddress,f=r.decimals,h=r.addresses,k=r.amounts,e.next=4,n("_bulksendEther",{tokenAddress:m,estimateGas:l,decimals:f,addresses:h,amounts:k});case 4:if("User denied transaction signature."==(T=e.sent)){e.next=14;break}return console.info("txHash",T),o("ADD_TX",T),n("common/updateBulkSentStatus",{status:0,txHash:T,uniqueId:c},{root:!0}),n("checkBulksenderTransactionStatus",{uniqueId:c,txHash:T}),e.abrupt("return",!0);case 14:return e.abrupt("return",!1);case 15:case"end":return e.stop()}}),e)}))),function(e,t){return h.apply(this,arguments)}),_bulksendEther:(f=Object(D.a)(regeneratorRuntime.mark((function e(t,r){var n,o,c,d,l,m,f,h,k,T,S;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.state,o=t.getters,c=t.rootState,t.rootGetters,d=t.dispatch,l=t.commit,r.tokenAddress,m=r.estimateGas,f=void 0===m?0:m,h=r.decimals,k=r.addresses,T=r.amounts,S=n.checkSimpleTimes,e.abrupt("return",new Promise((function(e,t){var r=function(){var m=Object(D.a)(regeneratorRuntime.mark((function m(v){var w,x,E,A,O,_,y,I,R,N,P,data,D,j;return regeneratorRuntime.wrap((function(m){for(;;)switch(m.prev=m.next){case 0:return w=v.retryAttempt,x=void 0===w?1:w,x++,m.prev=2,E=c.metamask.ethAccount,m.next=6,o.bulksenderInstance();case 6:return A=m.sent,O=A._address,m.next=10,d("createNewUniqueId");case 10:if(_=m.sent,y=web3.toBigNumber("0"),I=[],T.forEach((function(e){var t=web3.toBigNumber(e).times(web3.toBigNumber(10).pow(parseInt(h)));y=y.plus(t),I.push(t.toString(10))})),R=y.toString(10),I.unshift(R),(N=[].concat(k)).unshift(O),P=y.plus(web3.toBigNumber(o.txFee)).toString(10),data=A.methods.bulksendEther(N,I,_).encodeABI(),0!=f){m.next=24;break}return m.next=23,A.methods.bulksendEther(N,I,_).estimateGas({from:E,value:Object(B.toHex)(P)});case 23:f=m.sent;case 24:return console.log("bulksend tx",f),D={method:"eth_sendTransaction",params:[{from:E,to:O,gas:Object(B.numberToHex)(f+1e5),gasPrice:Object(B.toHex)(Object(B.toWei)(n.gasPrice.toString(),"gwei")),value:Object(B.toHex)(P),data:data}],from:E},console.log("bulksend callParams",D),m.next=29,d("metamask/sendAsync",D,{root:!0});case 29:j=m.sent,e(j),m.next=36;break;case 33:m.prev=33,m.t0=m.catch(2),x>=S||4001==m.t0.code?(l("ADD_FAILED_TXS",""),4001==m.t0.code?e("User denied transaction signature."):t(m.t0)):r({retryAttempt:x});case 36:case"end":return m.stop()}}),m,null,[[2,33]])})));return function(e){return m.apply(this,arguments)}}();r({})})));case 4:case"end":return e.stop()}}),e)}))),function(e,t){return f.apply(this,arguments)}),estimateGasForPerTransferUsedBulksender:(m=Object(D.a)(regeneratorRuntime.mark((function e(t,r){var n,o,c,d,l,m,f,h;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.state,t.getters,t.rootState,t.rootGetters,n=t.dispatch,t.commit,o=r.tokenAddress,c=r.testAddresses,d=r.testBalances,e.prev=2,l=c,m=d,"0x0000000000000000000000000000000000000000"!=o){e.next=10;break}return e.next=8,n("estimateGasForPerEtherTransfer",{tokenAddress:o,addresses:l,balances:m});case 8:return f=e.sent,e.abrupt("return",f);case 10:return e.next=12,n("estimateGasForPerTokenTransfer",{tokenAddress:o,addresses:l,balances:m});case 12:return h=e.sent,e.abrupt("return",h);case 16:if(e.prev=16,e.t0=e.catch(2),"0x0000000000000000000000000000000000000000"!=o){e.next=20;break}return e.abrupt("return",3e4);case 20:return e.abrupt("return",-1);case 21:case"end":return e.stop()}}),e,null,[[2,16]])}))),function(e,t){return m.apply(this,arguments)}),estimateBulksendSize:(l=Object(D.a)(regeneratorRuntime.mark((function e(t,r){var n,o,c,d,l,m,f,h,k;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.state,t.getters,t.rootState,t.rootGetters,o=t.dispatch,t.commit,c=r.tokenAddress,d=r.testAddresses,l=r.testBalances,e.prev=2,"0x0000000000000000000000000000000000000000"!=c){e.next=5;break}return e.abrupt("return",n.etherBatchSize);case 5:return m=d,f=l,e.next=9,o("estimateGasForPerTransfer",{tokenAddress:c,addresses:m,balances:f});case 9:return h=e.sent,k=parseInt(n.maxGasUsed/parseFloat(h)),n.simple,e.abrupt("return",k);case 15:return e.prev=15,e.t0=e.catch(2),console.info(e.t0),e.abrupt("return",0);case 19:case"end":return e.stop()}}),e,null,[[2,15]])}))),function(e,t){return l.apply(this,arguments)}),estimateGasForPerTokenTransfer:(d=Object(D.a)(regeneratorRuntime.mark((function e(t,r){var n,o,c,d,l,m,f,h,k;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.state,o=t.getters,c=t.rootState,t.rootGetters,d=t.dispatch,l=t.commit,m=r.tokenAddress,f=r.addresses,h=r.balances,k=n.checkSimpleTimes,e.abrupt("return",new Promise((function(e,t){var r=function(){var T=Object(D.a)(regeneratorRuntime.mark((function T(S){var v,w,x,E,A,O,_,y,I,R,N,P,D,j,C,F,L,G,H;return regeneratorRuntime.wrap((function(T){for(;;)switch(T.prev=T.next){case 0:return v=S.retryAttempt,w=void 0===v?0:v,w++,T.prev=2,x=4==w||5==w||6==w,E=c.metamask.ethAccount,(A=c.token).allowance,O=A.tokenSelected,T.next=8,o.bulksenderInstance();case 8:return _=T.sent,y=_._address,I=O.decimals,R=web3.toBigNumber("0"),P=[],(N=f).forEach((function(e,t){var r=h[t],n=web3.toBigNumber(r).times(web3.toBigNumber(10).pow(I));P.push(n.toString(10)),R=R.plus(n)})),D=R.toString(10),T.next=18,d("createNewUniqueId");case 18:if(j=T.sent,C=[y],F=[D],console.info("Use simple",x),L=0,!x){T.next=29;break}return T.next=26,_.methods.bulksendTokenSimple(m,C,F,j).estimateGas({from:E,value:Object(B.toHex)(Object(B.toWei)(n.txFee.toString(),"ether"))});case 26:L=T.sent,T.next=32;break;case 29:return T.next=31,_.methods.bulksendToken(m,C,F,j).estimateGas({from:E,value:Object(B.toHex)(Object(B.toWei)(n.txFee.toString(),"ether"))});case 31:L=T.sent;case 32:if(G=0,C=C.concat(N),F=F.concat(P),!x){T.next=41;break}return T.next=38,_.methods.bulksendTokenSimple(m,C,F,j).estimateGas({from:E,value:Object(B.toHex)(Object(B.toWei)(n.txFee.toString(),"ether"))});case 38:G=T.sent,T.next=44;break;case 41:return T.next=43,_.methods.bulksendToken(m,C,F,j).estimateGas({from:E,value:Object(B.toHex)(Object(B.toWei)(n.txFee.toString(),"ether"))});case 43:G=T.sent;case 44:if(0!=L&&0!=G){T.next=46;break}throw Error("EstimateGasForPerTransfer failed");case 46:H=parseInt((G-L)/parseFloat(f.length)),console.info("GasCost of each transfer",H),l("SET_SIMPLE",x),e(H),T.next=56;break;case 53:T.prev=53,T.t0=T.catch(2),w>=k?t(T.t0):r({retryAttempt:w});case 56:case"end":return T.stop()}}),T,null,[[2,53]])})));return function(e){return T.apply(this,arguments)}}();r({})})));case 4:case"end":return e.stop()}}),e)}))),function(e,t){return d.apply(this,arguments)}),estimateGasForPerEtherTransfer:(c=Object(D.a)(regeneratorRuntime.mark((function e(t,r){var n,o,c,d,l,m,f;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.state,o=t.getters,c=t.rootState,t.rootGetters,d=t.dispatch,t.commit,r.tokenAddress,l=r.addresses,m=r.balances,f=n.checkSimpleTimes,e.abrupt("return",new Promise((function(e,t){var r=function(){var n=Object(D.a)(regeneratorRuntime.mark((function n(h){var k,T,S,v,w,x,E,A,O,_,y,I,R,N,P,D,j,C,F;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return k=h.retryAttempt,T=void 0===k?0:k,T++,n.prev=2,S=c.metamask.ethAccount,(v=c.token).allowance,w=v.tokenSelected,n.next=7,o.bulksenderInstance();case 7:return x=n.sent,E=x._address,A=w.decimals,O=web3.toBigNumber("0"),y=[],(_=l).forEach((function(e,t){var r=m[t],n=web3.toBigNumber(r).times(web3.toBigNumber(10).pow(A));y.push(n.toString(10)),O=O.plus(n)})),I=O.toString(10),n.next=17,d("createNewUniqueId");case 17:return R=n.sent,N=[E],P=[I],D=O.plus(web3.toBigNumber(o.txFee)).toString(10),n.next=23,x.methods.bulksendEther(N,P,R).estimateGas({from:S,value:Object(B.toHex)(D)});case 23:return j=n.sent,N=N.concat(_),P=P.concat(y),n.next=28,x.methods.bulksendEther(N,P,R).estimateGas({from:S,value:Object(B.toHex)(D)});case 28:if(C=n.sent,0!=j&&0!=C){n.next=31;break}throw Error("EstimateGasForPerETHTransfer failed");case 31:F=parseInt((C-j)/parseFloat(l.length)),e(F),n.next=39;break;case 36:n.prev=36,n.t0=n.catch(2),T>=f?t(n.t0):r({retryAttempt:T});case 39:case"end":return n.stop()}}),n,null,[[2,36]])})));return function(e){return n.apply(this,arguments)}}();r({})})));case 4:case"end":return e.stop()}}),e)}))),function(e,t){return c.apply(this,arguments)}),checkBulksenderTransactionStatus:(o=Object(D.a)(regeneratorRuntime.mark((function e(t,r){var n,o,c,d,l,m,f,h;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.state,t.getters,n=t.rootGetters,t.rootState,o=t.dispatch,c=t.commit,d=r.uniqueId,l=r.txHash,m=n["metamask/networkConfig"].smartContractShortPollTime,e.prev=3,console.info(l),e.next=7,o("metamask/getTransactionReceipt",{txHash:l},{root:!0});case 7:null!=(f=e.sent)?("0x1"==(h=f.status)||1==h?(h=1,c("ADD_SUCCESS_TXS",l)):(h=-2,c("ADD_FAILED_TXS",l)),o("common/updateBulkSentStatus",{status:h,txHash:l,uniqueId:d},{root:!0})):setTimeout((function(){o("checkBulksenderTransactionStatus",{uniqueId:d,txHash:l})}),1e3*m),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(3),console.info("checking error",e.t0),setTimeout((function(){o("checkBulksenderTransactionStatus")}),1e3*m);case 15:case"end":return e.stop()}}),e,null,[[3,11]])}))),function(e,t){return o.apply(this,arguments)}),checkBulksenderVIPBuyingTransactionStatus:(n=Object(D.a)(regeneratorRuntime.mark((function e(t,r){var n,o,c,d,l,m,f;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.state,t.getters,n=t.rootGetters,t.rootState,o=t.dispatch,c=t.commit,d=r.txHash,l=n["metamask/networkConfig"].smartContractShortPollTime,e.prev=3,console.info(d),e.next=7,o("metamask/getTransactionReceipt",{txHash:d},{root:!0});case 7:null!=(m=e.sent)?("0x1"==(f=m.status)||1==f?(f=1,c("SET_IS_VIP",!0)):(f=-2,c("SET_IS_VIP",!1)),c("SET_VIP_TX_STATUS",f)):setTimeout((function(){o("checkBulksenderVIPBuyingTransactionStatus",{txHash:d})}),1e3*l),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(3),console.info("checking error",e.t0),setTimeout((function(){o("checkBulksenderVIPBuyingTransactionStatus")}),1e3*l);case 15:case"end":return e.stop()}}),e,null,[[3,11]])}))),function(e,t){return n.apply(this,arguments)})};t.default={namespaced:!0,state:function(){var e;return e={bulksenderAddress:"",txFee:1e16,isVIP:!1,vipFee:1e18,addressUrl:"",txUrl:"",maxGasUsed:72e5,gasPrice:10,transferTestingCount:5,etherBatchSize:220,simple:!1,checkSimpleTimes:4,transferTestingAmounts:[1,10,100,1e3,1e4,1e5,1e6,1e7]},Object(j.a)(e,"etherBatchSize",220),Object(j.a)(e,"estimateETHCost",.01),Object(j.a)(e,"vipTxHash",""),Object(j.a)(e,"vipTxStatus",-1),Object(j.a)(e,"txs",[]),Object(j.a)(e,"successTxs",[]),Object(j.a)(e,"failedTxs",[]),e},getters:G,mutations:{SET_BULKSENDER_ADDRESS:function(e,address){e.bulksenderAddress=address},SET_TX_FEE:function(e,t){e.txFee=t},SET_VIP_FEE:function(e,t){e.vipFee=t},SET_IS_VIP:function(e,t){e.isVIP=t},SET_GAS_PRICE:function(e,t){e.gasPrice=t},SET_ADDRESS_URL:function(e,t){e.addressUrl=t},SET_TX_URL:function(e,t){e.txUrl=t},ADD_TX:function(e,t){e.txs.push(t)},ADD_SUCCESS_TXS:function(e,t){e.successTxs.push(t)},ADD_FAILED_TXS:function(e,t){e.failedTxs.push(t)},SET_SIMPLE:function(e,t){e.simple=t},SET_estimateCostPerTransfer:function(e,t){e.simple=t},SET_VIP_TX_HASH:function(e,t){e.vipTxHash=t},SET_VIP_TX_STATUS:function(e,t){e.vipTxStatus=t},CLEAR:function(e){e.successTxs=[],e.failedTxs=[],e.txs=[]}},actions:H}},532:function(e,t,r){"use strict";r.r(t);r(62),r(48),r(39),r(49),r(291);var n=r(5),o=(r(78),r(92),r(93),r(63),r(32),r(535),r(37),r(1)),c=r(314),d=r.n(c),l=r(315),m=r.n(l),f=r(316),h=r.n(f),k=r(6),T=r(75);function S(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,r)}return t}function v(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?S(source,!0).forEach((function(t){Object(n.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):S(source).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}var w,x,E,A,O=function(e){var t=e.newAccount;(0,e.commit)("IDENTIFY",Object(k.toChecksumAddress)(t[0]))},_={netId:function(e){return e.netId},isApiValible:function(e){return 1==e.netId},networkName:function(e){return T.a["netId".concat(e.netId)].networkName},currency:function(e){return T.a["netId".concat(e.netId)].currencyName},networkConfig:function(e){return T.a["netId".concat(e.netId)]},getEthereumProvider:function(e){return Object(o.a)(regeneratorRuntime.mark((function t(){var r,n,o,c;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:r=e.providerName,n=e.networkName,t.t0=r,t.next="portis"===t.t0?4:"squarelink"===t.t0?10:(t.t0,15);break;case 4:if(!window.portis){t.next=8;break}return t.abrupt("return",window.portis.provider);case 8:return window.portis=new m.a("",n),t.abrupt("return",window.portis.provider);case 10:return o=new h.a("",n),t.next=13,o.getProvider();case 13:return c=t.sent,t.abrupt("return",c);case 15:return t.abrupt("return",window.ethereum);case 16:case"end":return t.stop()}}),t)})))},web3:function(e,t){return Object(o.a)(regeneratorRuntime.mark((function e(){var r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.getEthereumProvider();case 2:return r=e.sent,e.abrupt("return",Object.freeze(new d.a(r)));case 4:case"end":return e.stop()}}),e)})))}},y={IDENTIFY:function(e,t){e.ethAccount=t},SET_NET_ID:function(e,t){t=parseInt(t,10),e.netId=t},SET_BALANCE:function(e,t){e.balance=Object(k.fromWei)(t)},SET_ADDRESS:function(e,t){var address=t.address,r=t.valid,n=void 0!==r&&r;e.address={value:address,valid:n}},SAVE_GAS_PRICE:function(e,t){e.gasPrice=t},SAVE_TOKENS:function(e,t){e.tokens=t},SET_TOKEN_ADDRESS:function(e,t){e.tokenAddress=t},SET_FETCHING:function(e,t){e.isFetching=t},SET_PROVIDER_NAME:function(e,t){e.providerName=t},SET_NETWORK_NAME:function(e,t){e.networkName=t}},I={setAddress:function(e,t){e.dispatch;var r=e.commit,address=t.address;r("SET_ADDRESS",{address:address,valid:address.length>=42&&Object(k.isAddress)(address)})},setTokenAddress:function(e,t){e.dispatch;(0,e.commit)("SET_TOKEN_ADDRESS",t.address)},onNetworkChanged:function(e,t){(0,e.commit)("SET_NET_ID",t.netId)},getBalance:function(e){var t=e.dispatch,r=e.state,n=e.getters.networkConfig.rpcCallRetryAttempt;return new Promise((function(e,c){var d=function(){var l=Object(o.a)(regeneratorRuntime.mark((function o(l){var m,f,h,k;return regeneratorRuntime.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return m=l.retryAttempt,f=void 0===m?1:m,f++,o.prev=2,h={method:"eth_getBalance",params:[r.ethAccount,"latest"]},o.next=6,t("metamask/sendAsync",h,{root:!0});case 6:k=o.sent,e(k),o.next=13;break;case 10:o.prev=10,o.t0=o.catch(2),f>=n?c(o.t0):d({retryAttempt:f});case 13:case"end":return o.stop()}}),o,null,[[2,10]])})));return function(e){return l.apply(this,arguments)}}();d({})}))},askPermission:function(e,t){var r=e.commit,n=e.dispatch,c=e.getters,d=t.providerName,l=t.networkName;return new Promise(function(){var e=Object(o.a)(regeneratorRuntime.mark((function e(t,o){var m,f,h,T,S;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r("SET_PROVIDER_NAME",d),r("SET_NETWORK_NAME",l),e.next=4,c.getEthereumProvider();case 4:return m=e.sent,e.prev=5,null==m&&o(new Error("Please Install Metamask")),e.next=9,m.enable();case 9:return 0===(f=e.sent).length&&o(new Error("lockedMetamask")),h=Object(k.toChecksumAddress)(f[0]),r("IDENTIFY",h),n("setAddress",{address:h}),e.next=16,n("getBalance");case 16:return T=e.sent,T=Object(k.hexToNumberString)(T),n("saveUserBalance",{balance:T}),e.next=21,n("sendAsync",{method:"net_version",params:[],callbackAction:"metamask/onNetworkChanged"});case 21:return S=e.sent,n("onNetworkChanged",{netId:S}),m.on&&(m.on("accountsChanged",(function(e){return O({dispatch:n,commit:r,newAccount:e})})),m.on("networkChanged",(function(e){return n("onNetworkChanged",{netId:e})}))),e.next=26,n("fetchTokenList",{});case 26:n("bulksender/initBaseParams",{},{root:!0}),n("common/initBaseParams",{},{root:!0}),n("token/initBaseParams",{},{root:!0}),t({netId:S,ethAccount:f[0]}),e.next=35;break;case 32:e.prev=32,e.t0=e.catch(5),o(e.t0);case 35:case"end":return e.stop()}}),e,null,[[5,32]])})));return function(t,r){return e.apply(this,arguments)}}())},saveUserBalance:function(e,t){(0,e.commit)("SET_BALANCE",t.balance)},fetchTokenList:(A=Object(o.a)(regeneratorRuntime.mark((function e(t,r){var n,o,c,d,l,m,f,h,k,T,S,v,w,x,E,A,O,_,y,I,R;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.rootState,o=t.commit,c=t.dispatch,d=t.rootGetters,t.state,l=r.oracleIndex,m=void 0===l?0:l,(f=d["metamask/networkConfig"]).smartContractPollTime,f.gasPrice,h=f.tokenOracleUrls,k=f.currencyName,T=f.networkName,S=n.metamask,v=S.netId,S.isFetching,w=S.ethAccount,S.tokens,x=S.balance,E=S.ethCoinName,1!=v){e.next=36;break}return e.prev=5,A=h[m%h.length],(O=A.indexOf("api.blockchair")>-1)?A=A.replace("AccountAddress",w):A+=w,e.next=11,fetch(A);case 11:if(200!==(_=e.sent).status){e.next=26;break}return e.next=15,_.json();case 15:if(1!=(y=e.sent).status&&!y.success&&200!=y.context.code){e.next=23;break}I=[],O?(R=y.data[w.toLowerCase()].layer_2.erc_20,I.push({symbol:k,name:T+E,balance:web3.toBigNumber(x).times(web3.toBigNumber(10).pow(18)).toString(10),displayBalance:x,contractAddress:"0x0000000000000000000000000000000000000000",decimals:"18",isETH:!0}),R.forEach((function(e){if(web3.toBigNumber(e.balance).div(web3.toBigNumber(10).pow(parseInt(e.token_decimals))).toNumber()>0){var t={name:e.token_name,symbol:e.token_symbol,decimals:e.token_decimals,balance:e.balance,displayBalance:web3.toBigNumber(e.balance).div(web3.toBigNumber(10).pow(parseInt(e.token_decimals))).toString(10),contractAddress:e.token_address};I.push(t)}}))):y.result.forEach((function(e){var t={name:e.name,symbol:e.symbol,decimals:e.decimals,balance:e.balance,displayBalance:web3.toBigNumber(e.balance).div(web3.toBigNumber(10).pow(parseInt(e.decimals))).toString(10),contractAddress:e.contractAddress};I.push(t)})),o("SAVE_TOKENS",I),o("SET_FETCHING",!1),e.next=24;break;case 23:throw Error("Fetch tokens failed");case 24:e.next=27;break;case 26:throw Error("Fetch tokens failed");case 27:e.next=34;break;case 29:e.prev=29,e.t0=e.catch(5),console.error(e.t0),c("fetchTokenList",{oracleIndex:++m});case 34:e.next=40;break;case 36:(I=[]).push({symbol:k,name:T+E,balance:web3.toBigNumber(x).times(web3.toBigNumber(10).pow(18)).toString(10),displayBalance:x,contractAddress:"0x0000000000000000000000000000000000000000",decimals:"18",isETH:!0}),o("SAVE_TOKENS",I),o("SET_FETCHING",!1);case 40:case"end":return e.stop()}}),e,null,[[5,29]])}))),function(e,t){return A.apply(this,arguments)}),fetchGasPrice:(E=Object(o.a)(regeneratorRuntime.mark((function e(t,r){var n,o,c,d,l,m,f,h,k,T,S,w,x,E;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.rootState,o=t.commit,c=t.dispatch,d=t.rootGetters,t.state,l=r.oracleIndex,m=void 0===l?0:l,f=d["metamask/networkConfig"],h=f.smartContractPollTime,k=f.gasPrice,T=f.gasOracleUrls,S=n.metamask.netId,e.prev=4,1!==S){e.next=26;break}return e.next=8,fetch(T[m%T.length]);case 8:if(200!==(w=e.sent).status){e.next=22;break}return e.next=12,w.json();case 12:x=e.sent,E=v({},k),x.slow&&(E.low=Number(x.slow)+.5),x.safeLow&&(E.low=Number(x.safeLow)+.5),x.fast&&(E.fast=Number(x.fast)),x.standard&&(E.standard=Number(x.standard)),x.instant&&(E.instant=Number(x.instant)),o("SAVE_GAS_PRICE",E),e.next=23;break;case 22:throw Error("Fetch gasPrice failed");case 23:setTimeout((function(){return c("fetchGasPrice",{})}),1e3*h),e.next=27;break;case 26:o("SAVE_GAS_PRICE",k);case 27:e.next=34;break;case 29:e.prev=29,e.t0=e.catch(4),console.error(e.t0),m++,setTimeout((function(){return c("fetchGasPrice",{oracleIndex:m})}),1e3*h);case 34:case"end":return e.stop()}}),e,null,[[4,29]])}))),function(e,t){return E.apply(this,arguments)}),getTransactionReceipt:(x=Object(o.a)(regeneratorRuntime.mark((function e(t,r){var n,c;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.state,t.getters,t.rootGetters,t.rootState,n=t.dispatch,t.commit,c=r.txHash,e.abrupt("return",new Promise((function(e,t){var r=function(){var d=Object(o.a)(regeneratorRuntime.mark((function o(d){var l,m,f,h;return regeneratorRuntime.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return l=d.retryAttempt,m=void 0===l?1:l,m++,o.prev=2,f={method:"eth_getTransactionReceipt",params:[c]},o.next=6,n("metamask/sendAsync",f,{root:!0});case 6:h=o.sent,e(h),o.next=13;break;case 10:o.prev=10,o.t0=o.catch(2),m>=2?t(o.t0):r({retryAttempt:m});case 13:case"end":return o.stop()}}),o,null,[[2,10]])})));return function(e){return d.apply(this,arguments)}}();r({})})));case 4:case"end":return e.stop()}}),e)}))),function(e,t){return x.apply(this,arguments)}),signData:(w=Object(o.a)(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.state,t.getters,t.rootGetters,t.rootState,t.dispatch,t.commit;case 1:case"end":return e.stop()}}),e)}))),function(e){return w.apply(this,arguments)}),sendAsync:function(e,t){e.state;var r=e.getters,n=t.method,c=t.from,d=t.params;switch(r.netId){case 77:case 99:break;case 100:c=void 0}return new Promise(function(){var e=Object(o.a)(regeneratorRuntime.mark((function e(t,o){var l;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.getEthereumProvider();case 2:l=e.sent,console.log("sendAsync `method, from, params`",n,c,d),l.sendAsync({method:n,params:d,jsonrpc:"2.0",from:c},(function(e,r){e&&o(e),r.error?o(r.error):t(r.result)}));case 5:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}())}};t.default={namespaced:!0,state:function(){return{ethAccount:null,netId:1,currency:"ETH",domainData:{},balance:"0",address:{value:null,valid:!1},gasPrice:{fast:1,low:1,standard:1},providerName:"",networkName:"",tokens:[],tokensForTestnet:[],tokenAddress:"",isFetching:!0,ethCoinName:" Ethereum Native Currency"}},getters:_,mutations:y,actions:I}},593:function(e,t,r){"use strict";r.r(t);r(92),r(93),r(78),r(63),r(32),r(37);var n,o,c,d,l,m,f,h,k,T,S,v,w,x,E,A,O=r(1),_=r(6),y=r(317),I=r(318),R=(r(178),r(195)),N={allowanceNumber:function(e){var t=0;try{t=web3.toBigNumber(e.allowance).div(web3.toBigNumber(10).pow(e.tokenSelected.decimals)).toNumber()}catch(e){console.info(e)}return t},balanceNumber:function(e){var t=0;try{t=web3.toBigNumber(e.balance).div(web3.toBigNumber(10).pow(e.tokenSelected.decimals)).toNumber()}catch(e){}return t},tokenInstance:function(e,t,r,n){return Object(O.a)(regeneratorRuntime.mark((function t(){var o,c,d;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return o=r.metamask,c=o.ethAccount,o.netId,t.next=3,n["metamask/web3"]();case 3:return d=t.sent,t.abrupt("return",new d.eth.Contract(y,e.address,{from:c}));case 5:case"end":return t.stop()}}),t)})))},tokenQueryInstance:function(e,t,r,n){return Object(O.a)(regeneratorRuntime.mark((function e(){var t,o,c,d;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.metamask,o=t.ethAccount,t.netId,e.next=3,n["metamask/web3"]();case 3:return c=e.sent,d=n["metamask/networkConfig"].tokenQueryContract,e.abrupt("return",new c.eth.Contract(I,d,{from:o}));case 6:case"end":return e.stop()}}),e)})))}},P={setTokenAddress:function(e,t){e.dispatch;(0,e.commit)("SET_TOKEN_ADDRESS",t.address)},setAproveTx:function(e,t){e.dispatch;(0,e.commit)("SET_TOKEN_APPROVE_TX",t.txHash)},setAproveAmount:function(e,t){e.dispatch;(0,e.commit)("SET_TOKEN_APPROVE_AMOUNT",t.amount)},setAproveTxStatus:function(e,t){e.dispatch;(0,e.commit)("SET_TOKEN_APPROVE_TX_STATUS",t.status)},setTokenSelectedDisplayInfo:function(e,t){e.dispatch;(0,e.commit)("SET_TOKEN_SELECTED_DISPLAY_INFO",t.tokenSelectedDisplayInfo)},setTokenSelected:(A=Object(O.a)(regeneratorRuntime.mark((function e(t,r){var n,o,c,d,l;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.dispatch,o=t.commit,c=t.state,d=r.selected,o("SET_TOKEN_SELECTED",d),o("SET_TOKEN_INFO_LOADED",!0),c.tokenSelected.isETH||(n("getTokenAllowce",{}),n("getTokenBalance",{})),e.prev=5,e.next=8,n("common/getNetIdStorage",{},{root:!0});case 8:(l=e.sent).lastTokenUsed=d,n("common/updateNetIdStorage",{netStorage:l},{root:!0}),e.next=15;break;case 13:e.prev=13,e.t0=e.catch(5);case 15:case"end":return e.stop()}}),e,null,[[5,13]])}))),function(e,t){return A.apply(this,arguments)}),checkLastTokenSelected:(E=Object(O.a)(regeneratorRuntime.mark((function e(t){var r,n,o,c;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.dispatch,n=t.commit,t.state,o=null,e.prev=2,e.next=5,r("common/getNetIdStorage",{},{root:!0});case 5:c=e.sent,o=c.lastTokenUsed,e.next=11;break;case 9:e.prev=9,e.t0=e.catch(2);case 11:return n("SET_TOKEN_SELECTED",o),e.abrupt("return",o);case 13:case"end":return e.stop()}}),e,null,[[2,9]])}))),function(e){return E.apply(this,arguments)}),setTokenBalance:function(e,t){e.dispatch;var r=e.commit,n=(e.state,t.balance);r("SET_TOKEN_BALANCE",n),r("SET_TOKEN_BALANCE_LOADED",!0),console.info("Token Balance",n)},setTokenAllowance:function(e,t){e.dispatch;var r=e.commit,n=(e.state,t.allowance);-1!=n&&(r("SET_TOKEN_ALLOWANCE",n),r("SET_TOKEN_ALLOWANCE_LOADED",!0),console.info("Token Allowance",n))},clearUsedParams:(x=Object(O.a)(regeneratorRuntime.mark((function e(t){var r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.state,t.getters,t.dispatch,r=t.commit,t.rootState,r("CLEAR");case 2:case"end":return e.stop()}}),e)}))),function(e){return x.apply(this,arguments)}),initBaseParams:(w=Object(O.a)(regeneratorRuntime.mark((function e(t){var r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.rootState,t.rootGetters,r=t.dispatch,t.commit,t.state,r("checkLastTokenSelected");case 2:case"end":return e.stop()}}),e)}))),function(e){return w.apply(this,arguments)}),checkAllowceEnough:(v=Object(O.a)(regeneratorRuntime.mark((function e(t,r){var n,o,c,d;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.state,t.getters,o=t.commit,c=r.finalAmount,d=null!=n.tokenSelected&&n.tokenSelected.isETH||null!=n.tokenSelected&&null!=n.tokenSelected.decimals&&web3.toBigNumber(n.allowance).div(web3.toBigNumber(10).pow(n.tokenSelected.decimals)).toNumber()>=web3.toBigNumber(c).toNumber(),o("SET_TOKEN_ALLOWANCE_ENOUGH",d),e.abrupt("return",d);case 5:case"end":return e.stop()}}),e)}))),function(e,t){return v.apply(this,arguments)}),checkBalanceEnough:(S=Object(O.a)(regeneratorRuntime.mark((function e(t,r){var n,o,c,d,l,m,f;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.state,t.getters,o=t.commit,c=t.rootState,d=r.finalAmount,l=c.metamask.balance,m=n.tokenSelected,f=!1,null!=m&&(m.isETH?f=web3.toBigNumber(l).toNumber()>=web3.toBigNumber(d).toNumber():null!=m.decimals&&(f=web3.toBigNumber(n.balance).div(web3.toBigNumber(10).pow(n.tokenSelected.decimals)).toNumber()>=web3.toBigNumber(d).toNumber())),o("SET_TOKEN_BALANCE_ENOUGH",f),e.abrupt("return",f);case 8:case"end":return e.stop()}}),e)}))),function(e,t){return S.apply(this,arguments)}),getTokenAddress:(T=Object(O.a)(regeneratorRuntime.mark((function e(t){var r,n,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.state,r=t.getters,n=t.commit,e.next=3,r.tokenInstance();case 3:o=e.sent,n("SET_TOKEN_ADDRESS",o._address);case 5:case"end":return e.stop()}}),e)}))),function(e){return T.apply(this,arguments)}),getTokenBalance:(k=Object(O.a)(regeneratorRuntime.mark((function e(t){var r,n,o,c,d;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.dispatch,t.state,n=t.getters,o=t.rootGetters,c=t.rootState,(0,t.commit)("SET_TOKEN_BALANCE_LOADED",!1),d=o["metamask/networkConfig"].rpcCallRetryAttempt,e.abrupt("return",new Promise((function(e,t){var o=function(){var l=Object(O.a)(regeneratorRuntime.mark((function l(m){var f,h,k,T,data,S,v;return regeneratorRuntime.wrap((function(l){for(;;)switch(l.prev=l.next){case 0:return f=m.retryAttempt,h=void 0===f?1:f,h++,l.prev=2,k=c.metamask.ethAccount,l.next=6,n.tokenInstance();case 6:return T=l.sent,data=T.methods.balanceOf(k).encodeABI(),S={method:"eth_call",params:[{from:k,to:T._address,data:data},"latest"],from:k},console.log("getTokenBalance callParams",S),l.next=12,r("metamask/sendAsync",S,{root:!0});case 12:v=l.sent,v=Object(_.hexToNumberString)(v),r("setTokenBalance",{balance:v}),e(v),l.next=21;break;case 18:l.prev=18,l.t0=l.catch(2),h>=d?t(l.t0):o({retryAttempt:h});case 21:case"end":return l.stop()}}),l,null,[[2,18]])})));return function(e){return l.apply(this,arguments)}}();o({})})));case 4:case"end":return e.stop()}}),e)}))),function(e){return k.apply(this,arguments)}),parseInsertTokenAddress:(h=Object(O.a)(regeneratorRuntime.mark((function e(t,r){var n,o,c,d;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.dispatch,t.state,t.getters,t.rootGetters,t.rootState,o=t.commit,c=(c=r.tokenAddress).replace(/^\s+|\s+$/gm,""),!web3.isAddress(c)){e.next=9;break}return o("SET_TOKEN_ADDRESS",c),e.next=7,n("getTokenInfo");case 7:return d=e.sent,e.abrupt("return",d);case 9:case"end":return e.stop()}}),e)}))),function(e,t){return h.apply(this,arguments)}),getTokenInfo:(f=Object(O.a)(regeneratorRuntime.mark((function e(t){var r,n,o,c,d,l,m;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.dispatch,n=t.state,o=t.getters,c=t.rootGetters,d=t.rootState,t.commit,l=c["metamask/networkConfig"],m=l.rpcCallRetryAttempt,l.tokenQueryContract,e.abrupt("return",new Promise((function(e,t){var c=function(){var t=Object(O.a)(regeneratorRuntime.mark((function t(l){var f,h,k,T,S,data,v,w,x,E,symbol,A,O,_,y;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return f=l.retryAttempt,h=void 0===f?1:f,h++,t.prev=2,k=d.metamask.ethAccount,T=d.bulksender.bulksenderAddress,t.next=7,o.tokenQueryInstance();case 7:return S=t.sent,data=S.methods.queryTokenInfo(n.address,2,k,T).encodeABI(),v={method:"eth_call",params:[{from:k,to:S._address,data:data},"latest"],from:k},console.log("getTokenInfo callParams",v),t.next=13,r("metamask/sendAsync",v,{root:!0});case 13:if(null==(w=t.sent)){t.next=23;break}x=R.decodeParameters([{name:"name",type:"string"},{name:"symbol",type:"string"},{name:"decimals",type:"uint256"},{name:"totalSupply",type:"uint256"},{name:"balance",type:"uint256"},{name:"allowance",type:"uint256"}],w),E=x.name,symbol=x.symbol,A=x.decimals,x.totalSupply,O=x.balance,_=x.allowance,y={contractAddress:n.address,balance:O,name:E,symbol:symbol,decimals:A},r("setTokenSelected",{selected:y}),r("setTokenBalance",{balance:O}),r("setTokenAllowance",{allowance:_}),e(y),t.next=24;break;case 23:throw Error("Fetch token info failed");case 24:t.next=29;break;case 26:t.prev=26,t.t0=t.catch(2),h>=m?e({}):c({retryAttempt:h});case 29:case"end":return t.stop()}}),t,null,[[2,26]])})));return function(e){return t.apply(this,arguments)}}();c({})})));case 3:case"end":return e.stop()}}),e)}))),function(e){return f.apply(this,arguments)}),bulkQueryBalances:(m=Object(O.a)(regeneratorRuntime.mark((function e(t,r){var n,o,c,d,l,m,f,h;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.dispatch,t.state,o=t.getters,c=t.rootGetters,d=t.rootState,t.commit,l=r.tokenAddress,m=r.addresses,f=c["metamask/networkConfig"],h=f.rpcCallRetryAttempt,f.tokenQueryContract,e.abrupt("return",new Promise((function(e,t){var r=function(){var c=Object(O.a)(regeneratorRuntime.mark((function c(f){var k,T,S,v,data,w,x,E,A;return regeneratorRuntime.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return k=f.retryAttempt,T=void 0===k?1:k,T++,c.prev=2,S=d.metamask.ethAccount,c.next=6,o.tokenQueryInstance();case 6:return v=c.sent,data=v.methods.bulkQueryBalances(l,m).encodeABI(),w={method:"eth_call",params:[{from:S,to:v._address,data:data},"latest"],from:S},console.log("BulkQueryBalances callParams",w),c.next=12,n("metamask/sendAsync",w,{root:!0});case 12:if(null==(x=c.sent)){c.next=18;break}E=R.decodeParameters([{name:"balances",type:"uint256[]"}],x),A=E.balances,e(A),c.next=19;break;case 18:throw Error("BulkQueryBalances failed");case 19:c.next=24;break;case 21:c.prev=21,c.t0=c.catch(2),T>=h?t(c.t0):r({retryAttempt:T});case 24:case"end":return c.stop()}}),c,null,[[2,21]])})));return function(e){return c.apply(this,arguments)}}();r({})})));case 4:case"end":return e.stop()}}),e)}))),function(e,t){return m.apply(this,arguments)}),checkApproveTransactionStatus:(l=Object(O.a)(regeneratorRuntime.mark((function e(t){var r,n,o,c,d,l,m,f,h;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.state,t.getters,n=t.rootGetters,t.rootState,o=t.dispatch,c=t.commit,d=r.approveTx,l=r.approveAmount,m=n["metamask/networkConfig"].smartContractShortPollTime,e.prev=4,e.next=7,o("metamask/getTransactionReceipt",{txHash:d},{root:!0});case 7:null!=(f=e.sent)?(h=f.status,c("SET_TOKEN_APPROVE_TX_STATUS",h="0x1"==h||1==h?1:-2),c("SET_TOKEN_ALLOWANCE",l)):setTimeout((function(){o("checkApproveTransactionStatus")}),1e3*m),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(4),setTimeout((function(){o("checkApproveTransactionStatus")}),1e3*m);case 14:case"end":return e.stop()}}),e,null,[[4,11]])}))),function(e){return l.apply(this,arguments)}),getTokenAllowce:(d=Object(O.a)(regeneratorRuntime.mark((function e(t){var r,n,o,c,d,l,m;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.rootState,n=t.getters,o=t.commit,c=t.dispatch,d=t.rootGetters,t.state,o("SET_TOKEN_ALLOWANCE_LOADED",!1),l=d["metamask/networkConfig"],m=l.rpcCallRetryAttempt,l.tokenQueryContract,e.abrupt("return",new Promise((function(e,t){var o=function(){var t=Object(O.a)(regeneratorRuntime.mark((function t(d){var l,f,h,k,T,data,S,v;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return l=d.retryAttempt,f=void 0===l?1:l,f++,t.prev=2,h=r.metamask.ethAccount,null!=(k=r.bulksender.bulksenderAddress)&&""!=k||e(-1),t.next=8,n.tokenInstance();case 8:return T=t.sent,data=T.methods.allowance(h,k).encodeABI(),S={method:"eth_call",params:[{from:h,to:T._address,data:data},"latest"],from:h},console.log("getTokenAllowce callParams",S),t.next=14,c("metamask/sendAsync",S,{root:!0});case 14:v=t.sent,v=Object(_.hexToNumberString)(v),c("setTokenAllowance",{allowance:v}),e(v),t.next=23;break;case 20:t.prev=20,t.t0=t.catch(2),f>=m?e(0):o({retryAttempt:f});case 23:case"end":return t.stop()}}),t,null,[[2,20]])})));return function(e){return t.apply(this,arguments)}}();o({})})));case 4:case"end":return e.stop()}}),e)}))),function(e){return d.apply(this,arguments)}),approveForBulksender:(c=Object(O.a)(regeneratorRuntime.mark((function e(t,r){var n,o,c,d,l,m;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.state,t.getters,o=t.rootState,t.rootGetters,c=t.dispatch,t.commit,d=r.amount,d=web3.toBigNumber(d).times(web3.toBigNumber(10).pow(parseInt(n.tokenSelected.decimals))).toString(10),l=o.bulksender.bulksenderAddress,e.next=6,c("approve",{bulksenderAddress:l,amount:d});case 6:return m=e.sent,e.abrupt("return",m);case 8:case"end":return e.stop()}}),e)}))),function(e,t){return c.apply(this,arguments)}),checkApproval:(o=Object(O.a)(regeneratorRuntime.mark((function e(t,r){var n,o,c,d,l,m,f,h,k;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.state,o=t.getters,c=t.rootState,t.rootGetters,t.dispatch,d=t.commit,l=r.amount,m=n.checkZeroTimes,l=web3.toBigNumber(l).times(web3.toBigNumber(10).pow(parseInt(n.tokenSelected.decimals))).toString(10),f=c.bulksender.bulksenderAddress,e.next=7,o.tokenInstance();case 7:return h=e.sent,c.metamask.ethAccount,k=0,e.abrupt("return",new Promise((function(e,t){var r=function(){var t=Object(O.a)(regeneratorRuntime.mark((function t(n){var o,c,T;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return o=n.retryAttempt,c=void 0===o?0:o,c++,t.prev=2,(T=3==c||4==c)&&(l="0"),h.methods.approve(f,l).encodeABI(),t.next=8,h.methods.approve(f,l).estimateGas();case 8:t.sent,d("SET_NEED_TO_RESET_APPROVAL",T),T&&(k=-1),e({usedApproveZero:T,errorType:k}),t.next=17;break;case 14:t.prev=14,t.t0=t.catch(2),c>=m?e({usedApproveZero:!0,errorType:k=-2}):r({retryAttempt:c});case 17:case"end":return t.stop()}}),t,null,[[2,14]])})));return function(e){return t.apply(this,arguments)}}();r({})})));case 11:case"end":return e.stop()}}),e)}))),function(e,t){return o.apply(this,arguments)}),approve:(n=Object(O.a)(regeneratorRuntime.mark((function e(t,r){var n,o,c,d,l,m,f,h,k,T,S,data,v,w,x;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.state,n=t.getters,o=t.rootState,t.rootGetters,c=t.dispatch,d=t.commit,l=r.bulksenderAddress,m=r.amount,f=0,h=null,e.prev=4,k=o.metamask.gasPrice.fast,e.next=8,n.tokenInstance();case 8:return T=e.sent,S=o.metamask.ethAccount,data=T.methods.approve(l,m).encodeABI(),e.next=13,T.methods.approve(l,m).estimateGas();case 13:return v=e.sent,console.log("approve tx",v),w={method:"eth_sendTransaction",params:[{from:S,to:T._address,gas:Object(_.numberToHex)(v+1e5),gasPrice:Object(_.toHex)(Object(_.toWei)(k.toString(),"gwei")),value:0,data:data}],from:S},console.log("approve callParams",w),e.next=19,c("metamask/sendAsync",w,{root:!0});case 19:return x=e.sent,d("ADD_TX",x),d("SET_TOKEN_APPROVE_TX",x),d("SET_TOKEN_APPROVE_TX_STATUS",0),console.info(m),d("SET_TOKEN_APPROVE_AMOUNT",m),c("checkApproveTransactionStatus"),e.abrupt("return",{txHash:x,errorType:f});case 29:return e.prev=29,e.t0=e.catch(4),e.abrupt("return",{txHash:h,errorType:f});case 32:case"end":return e.stop()}}),e,null,[[4,29]])}))),function(e,t){return n.apply(this,arguments)})};t.default={namespaced:!0,state:function(){return{address:null,balance:0,balanceDisplay:"",allowance:0,allowanceNumber:0,balanceNumber:0,allowanceEnough:!1,balanceEnough:!1,approveAmount:0,approveTx:"",approveTxStatus:-1,tokenSelected:null,tokenSelectedDisplayInfo:"",txs:[],tokenBalanceLoaded:!1,tokenAllowanceLoaded:!1,tokenInfoLoaded:!1,checkZeroTimes:4,needToResetApproval:!1}},getters:N,mutations:{SET_TOKEN_ADDRESS:function(e,address){e.address=address},SET_TOKEN_BALANCE:function(e,t){e.balance=t},SET_TOKEN_SELECTED:function(e,t){e.tokenSelected=t},SET_TOKEN_SELECTED_DISPLAY_INFO:function(e,t){e.tokenSelectedDisplayInfo=t},SET_TOKEN_ALLOWANCE:function(e,t){e.allowance=t},SET_TOKEN_ALLOWANCE_ENOUGH:function(e,t){e.allowanceEnough=t},SET_TOKEN_BALANCE_ENOUGH:function(e,t){e.balanceEnough=t},SET_TOKEN_APPROVE_AMOUNT:function(e,t){e.approveAmount=t},SET_TOKEN_APPROVE_TX:function(e,t){e.approveTx=t},SET_TOKEN_APPROVE_TX_STATUS:function(e,t){e.approveTxStatus=t},SET_TOKEN_BALANCE_LOADED:function(e,t){e.tokenBalanceLoaded=t},SET_TOKEN_ALLOWANCE_LOADED:function(e,t){e.tokenAllowanceLoaded=t},SET_TOKEN_INFO_LOADED:function(e,t){e.tokenInfoLoaded=t},SET_NEED_TO_RESET_APPROVAL:function(e,t){e.needToResetApproval=t},ADD_TX:function(e,t){e.txs.push(t)},CLEAR:function(e){e.approveTx="",e.approveTxStatus=-1,e.needToResetApproval=!1}},actions:P}},622:function(e,t,r){"use strict";r.r(t);var n,o,c,d,l,m,f,h,k,T,S,v,w,x,E,A,O,_,y,I,R,N,P,D,j,B,C,F,L,G,H=r(5),U=(r(518),r(74)),V=(r(525),r(92),r(93),r(114),r(526),r(32),r(39),r(175),r(63),r(37),r(1)),K={EN:{header:{vip:"VIP",welcome:"Welcome to ",tutorial:"Tutorial",faq:"FAQ",dappSupports:"Supports ",step1Title:"1 | Prepare",step2Title:"2 | Confirm",step3Title:"3 | Send",stepApproveTitle:"2 | Approve",oldVersion:"Old Version",mainnet:"Ethereum Mainnet",ropsten:"Ropsten"},footer:{contract:"Contract"},home:{decimalsTitle:"Decimals",parsingTitle:"Checking the possible errors of the address list...",tokenSelectedTitle:"Token",tokenSelectedPlaceholder:"Select Or Insert your token address",addressesTitle:"Addresses with Balances",addressesUploadDesc:"Drop your files here or ",addressesUploadDescClickUpload:"click to upload",addressesUploadFooterDesc:"Accepted: ",addressesInsertFooterDesc:"Separated by commas",addressesInsertExampleButtonText:"Show examples",manuallyInsert:"Insert manually",uploadInsert:"Upload file",manuallyInsertPlaceholder:"Insert address and amount, separate with comma",approveTitle:"Amount to approve",approveButton:"Approve",approveOption1:"Exact amount to be sent",approveOption2:"Your full token balance"},info:{prepareStep0:"Checking the address list...",prepareStep1:"Checking the token information...",prepareStep2:"Checking the token balance...",prepareStep3:"Checking the token allowance...",prepareStep4:"Checking the token balance...",prepareStep5:"Constructing the bulksending data..."},confirm:{approveHashTitle:"Approve transaction hash",summaryTitle:"Summary",networkSpeedTitle:"Network Speed",networkSpeedSlow:"Slow",networkSpeedStandard:"Standard",networkSpeedFast:"Fast",networkSpeedInstant:"Instant",resetApproval:"Reset allowance transaction hash",summary:{totalAddressesTitle:"Total number of addresses",totalAmountTitle:"Total number of tokens to be sent",totalTxsTitle:"Total number of transactions needed",totalTokenBalanceTitle:"Your token balance",totalTokenAllowanceTitle:"Your current bulksender allowance",balanceTitle:" balance",approximateCostTitle:"Approximate cost of operation",yourTitle:"Your ",gasPriceTitle:"Gas price"}},send:{pleaseSignTransactionsTitle:"Please sign the transaction on metamask",sentTransactionsTitle:"Bulksent transactions",sendTransactionsTitle:"You are sending the transaction",checkingTransactionsTitle:"Now wait util all the transactions were mined.",transactionSentoutTitle:"Transactions were sent out. ",congratulationsTransactionsTitle:"Congratulations, your bulksend transactions were sent out successfully"},vip:{vipDesc:"Just only pay 1 ETH to be a vip member, all your transactions sent through Bulksender.app will be free forever! Keep in mind, you would still need to pay for the mining fees. If you need additional information, feel free to ask in our Telegram channel. ",hasBeenVipDesc:"You have become a VIP member, all your transactions sent through Bulksender.app will be free forever! Keep in mind, you would still need to pay for the mining fees. If you need additional information, feel free to ask in our Telegram channel. ",vipTxHash:"VIP buying transaction hash",vipBuySuccess:"Congratulations, you have been a vip member",sendNow:"Send now",txFreeTitle:"TX FREE",welcomeToJoinVIPTitle:"Welcome to join VIP",descLine0:"You have become a VIP member",descLine1:"Just only pay 1 ETH to be a vip member.",descLine2:"All your transactions sent through Bulksender.app will be free forever!",descLine3:"Keep in mind, you would still need to pay for the mining fees.",descLine4:"If you need additional information, feel free to ask in our Telegram channel "},tutorial:{tutorialDesc:"Just only pay 1 ETH to be a vip member, all your transactions sent through Bulksender.app will be free forever! Keep in mind, you would still need to pay for the mining fees. If you need additional information, feel free to ask in our Telegram channel. ",tutorialTitle:"Instruction",tutorialVedeoTitle:"Video Demo",step1Title:"Prepare data",step2Title:"Confirm transaction sumary",step3Title:"Send transaction",step0Title1:"Please make sure that you have installed and unlocked",step0Title2:"or visit our dapp in mobile browser of",step0Title3:"",step1:{li1:"Select Ethereum Mainnet in wallet",li2:"Wait for token balances to load, if failed to load the tokens, you can manually insert your token address",li3:"Select the token that you would like to send from the list",li4:"Upload Excel, CSV, Txt addresses with balances or manually insert addresses separated by comma",li5:"Click NEXT"},step2:{li6:"Send Approve transaction",li7:"Confirm bulksending data, include txs, fees",li8:"Click SEND"},step3:{li9:"Confirm transaction in your wallet",li10:"Wait for an airdrop to complete"},done:"Done"},blockMultitabs:{blockTitle:"Detected you are opening multiple tabs",blockDesc:"You have been redirected to this page because there are more than one Bulksender.app page opened. It may cause problems with Browser LocalStorage. Please close this page and go to the previous one."},button:{deleteAllInvalidAddresses:"Delete all invalid",keepFirstOne:"Keep the first one",combineBalances:"Combine balances",next:"NEXT",back:"Back",send:"SEND",checkout:"Chcek out",skip:"Skip",buyVIP:"Buy"},warning:{unFinishedTasks:"Found you have unFinished tasks! Please wait a while."},error:{tokenSelectedNull:"Please select your token",addressNull:"Please upload or insert addresses with balances",prepareDataError:"Failed to construct the bulksending data, please try again!",addressInvalid:"Please delete the invalid addresses",addressDuplicated:"Please delete or combine the duplicated addresses",insufficientTokenBalance:"Insufficient token balance",insufficientEtherBalance:"Insufficient ether balance",invalidEthereumAddress:"is a invalid wallet address",invalidEthereumAmount:"wrong amount",invalidEthereumAddressAndAmount:"is a invalid wallet address and wrong amount",duplicatedEthereumAddresses:"duplicate address",duplicatedEthereumAddressesTitle:"Duplicated wallet addresses",invalidEthereumAddressesTitle:"Invalid wallet addresse or amount",resetApprovalErrorOption1:"Do the batch to spend your left allowance of bulksender",resetApprovalErrorOption2:"Reset the allowance",resetApprovalError:"Detected that your token dont allow to approve when you have remaining allowance, you can do:",approvalError:"Can not approve for your token, please check your token contract source code if it has the approve function",lineOrder:"Line ",line:"",approveError:"Approve error detected"}},CN:{header:{vip:"",tutorial:"",faq:"",welcome:" ",dappSupports:"Dapp",step1Title:"1 | ",step2Title:"2 | ",step3Title:"3 | ",stepApproveTitle:"2 | ",oldVersion:"",mainnet:"",ropsten:"Ropsten"},footer:{contract:""},home:(n={decimalsTitle:"",parsingTitle:"...",tokenSelectedTitle:"",tokenSelectedPlaceholder:"/",addressesTitle:"",addressesUploadDesc:"",addressesUploadDescClickUpload:"",addressesUploadFooterDesc:"",addressesInsertFooterDesc:"",addressesInsertExampleButtonText:""},Object(H.a)(n,"tokenSelectedPlaceholder","ETH/"),Object(H.a)(n,"manuallyInsert",""),Object(H.a)(n,"uploadInsert",""),Object(H.a)(n,"manuallyInsertPlaceholder",""),Object(H.a)(n,"approveTitle",""),Object(H.a)(n,"approveButton",""),Object(H.a)(n,"approveOption1",""),Object(H.a)(n,"approveOption2",""),n),info:{prepareStep0:"...",prepareStep1:"...",prepareStep2:"...",prepareStep3:"...",prepareStep4:"...",prepareStep5:"..."},vip:{vipDesc:" 1 ETHVIP@ ",hasBeenVipDesc:"VIP@ ",vipTxHash:"",vipBuySuccess:"",sendNow:"",txFreeTitle:"",welcomeToJoinVIPTitle:"VIP",descLine0:"VIP.",descLine1:" 1 ETHVIP.",descLine2:".",descLine3:"",descLine4:"@ "},tutorial:{tutorialDesc:"Just only pay 1 ETH to be a vip member, all your transactions sent through Bulksender.app will be free forever! Keep in mind, you would still need to pay for the mining fees. If you need additional information, feel free to ask in our Telegram channel. ",tutorialTitle:"",tutorialVedeoTitle:"",step1Title:"",step2Title:"",step3Title:"",step0Title1:"",step0Title2:"",step0Title3:"Dapp",step1:{li1:"",li2:"",li3:"",li4:"Excel, CSV, Txt",li5:""},step2:{li6:"",li7:"",li8:""},step3:{li9:"",li10:""},done:""},blockMultitabs:{blockTitle:"",blockDesc:"Bulksender.app. (LocalStorage). ."},confirm:{approveHashTitle:"",summaryTitle:"",networkSpeedTitle:"",networkSpeedSlow:"",networkSpeedStandard:"",networkSpeedFast:"",networkSpeedInstant:"",resetApproval:"",summary:{totalAddressesTitle:"",totalAmountTitle:"",totalTxsTitle:"",totalTokenBalanceTitle:"",totalTokenAllowanceTitle:"",balanceTitle:"",approximateCostTitle:"",yourTitle:"",gasPriceTitle:""}},send:{pleaseSignTransactionsTitle:"Metamask",sentTransactionsTitle:"",sendTransactionsTitle:"",checkingTransactionsTitle:"",transactionSentoutTitle:"",congratulationsTransactionsTitle:""},button:{deleteAllInvalidAddresses:"",keepFirstOne:"",combineBalances:"",next:"",back:"<- ",send:"",checkout:"",skip:"",buyVIP:""},warning:{unFinishedTasks:"!"},error:{tokenSelectedNull:"",addressNull:"",prepareDataError:"!",addressInvalid:"",addressDuplicated:"",insufficientTokenBalance:"",insufficientEtherBalance:"",invalidEthereumAddress:"",invalidEthereumAmount:"",invalidEthereumAddressAndAmount:"",duplicatedEthereumAddresses:"",duplicatedEthereumAddressesTitle:"",invalidEthereumAddressesTitle:"",resetApprovalErrorOption1:"",resetApprovalErrorOption2:"",resetApprovalError:"2:",approvalError:"",lineOrder:"",line:"",approveError:""}}},W=r(6),X=r(202),M=r.n(X),Y={step:function(e){return e.step},headerClosed:function(e){return e.headerClosed},language:function(e){return e.language},translationWord:function(e){return K[e.language]},addressInfo:function(e){return e.addressInfo}},Q=(o={updateStep:function(e,t){e.dispatch;(0,e.commit)("SET_STEP",t.step)},setSendLoading:function(e,t){e.dispatch;(0,e.commit)("SET_SEND_LOADING",t.loading)},setSendingIndex:function(e,t){e.dispatch;(0,e.commit)("SET_SENDING_INDEX",t.sendingIndex)},setCode:function(e,t){e.dispatch;(0,e.commit)("SET_CODE",t.code)},setInputType:function(e,t){e.dispatch;(0,e.commit)("SET_INPUT_TYPE",t.type)},setHeaderClosed:function(e,t){e.dispatch;(0,e.commit)("SET_HEADER_CLOSED",t.closed)},updateLanguage:function(e,t){e.dispatch;(0,e.commit)("SET_LANGUAGE",t.language)}},Object(H.a)(o,"updateLanguage",(function(e,t){e.dispatch;var r=e.commit,n=t.language;try{r("SET_LANGUAGE",n),localStorage.language=n}catch(e){}})),Object(H.a)(o,"saveAddressesInsertWay",(G=Object(V.a)(regeneratorRuntime.mark((function e(t,r){var n,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.rootState,t.rootGetters,t.dispatch,n=t.commit,t.state,o=r.addressesInsertWay;try{n("SET_ADDRESSES_INSERT_WAY",o),localStorage.addressesInsertWay=o}catch(e){}case 3:case"end":return e.stop()}}),e)}))),function(e,t){return G.apply(this,arguments)})),Object(H.a)(o,"getCachedLanguage",(L=Object(V.a)(regeneratorRuntime.mark((function e(t){var r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.rootState,t.rootGetters,t.dispatch,t.commit,t.state,r=void 0;try{r=localStorage.language}catch(e){}return e.abrupt("return",r);case 4:case"end":return e.stop()}}),e)}))),function(e){return L.apply(this,arguments)})),Object(H.a)(o,"getAddressesInsertWay",(F=Object(V.a)(regeneratorRuntime.mark((function e(t){var r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.rootState,t.rootGetters,t.dispatch,t.commit,t.state,r=0;try{r=localStorage.addressesInsertWay}catch(e){}return e.abrupt("return",r);case 4:case"end":return e.stop()}}),e)}))),function(e){return F.apply(this,arguments)})),Object(H.a)(o,"syncUserLastUsedLocalCaches",(C=Object(V.a)(regeneratorRuntime.mark((function e(t){var r,n,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.rootState,t.rootGetters,r=t.dispatch,n=t.commit,t.state,e.next=3,r("getAddressesInsertWay");case 3:o=e.sent,n("SET_ADDRESSES_INSERT_WAY",o);case 5:case"end":return e.stop()}}),e)}))),function(e){return C.apply(this,arguments)})),Object(H.a)(o,"initBulksender",(B=Object(V.a)(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.rootState,t.rootGetters,t.dispatch,t.commit,t.state;case 1:case"end":return e.stop()}}),e)}))),function(e){return B.apply(this,arguments)})),Object(H.a)(o,"updateCurrentRouter",(j=Object(V.a)(regeneratorRuntime.mark((function e(t,r){var n,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.rootState,t.rootGetters,t.dispatch,n=t.commit,t.state,o=r.currentRouter,n("SET_CURRENT_ROUTER",o);case 3:case"end":return e.stop()}}),e)}))),function(e,t){return j.apply(this,arguments)})),Object(H.a)(o,"clearUsedParams",(D=Object(V.a)(regeneratorRuntime.mark((function e(t){var r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.rootState,t.rootGetters,r=t.dispatch,t.commit,t.state,r("bulksender/clearUsedParams",{},{root:!0}),r("token/clearUsedParams",{},{root:!0});case 3:case"end":return e.stop()}}),e)}))),function(e){return D.apply(this,arguments)})),Object(H.a)(o,"initBaseParams",(P=Object(V.a)(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.rootState,t.rootGetters,t.dispatch,t.commit,t.state;case 1:case"end":return e.stop()}}),e)}))),function(e){return P.apply(this,arguments)})),Object(H.a)(o,"getNetIdStorage",(N=Object(V.a)(regeneratorRuntime.mark((function e(t){var r,n,o,c;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.dispatch,r=t.rootState,t.commit,t.state,n={};try{o=r.metamask.netId,null!=(c=localStorage.getItem("netId"+o))&&null!=c&&(n=JSON.parse(c))}catch(e){}return e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)}))),function(e){return N.apply(this,arguments)})),Object(H.a)(o,"updateNetIdStorage",(R=Object(V.a)(regeneratorRuntime.mark((function e(t,r){var n,o,c;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.dispatch,t.commit,n=t.rootState,t.state,o=r.netStorage;try{c=n.metamask.netId,localStorage.setItem("netId"+c,JSON.stringify(o))}catch(e){console.info(e)}case 3:case"end":return e.stop()}}),e)}))),function(e,t){return R.apply(this,arguments)})),Object(H.a)(o,"estimateTotalEtherCost",(I=Object(V.a)(regeneratorRuntime.mark((function e(t){var r,n,o,c,d,l,m,f,h,k,T,S,v;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.rootState,n=t.rootGetters,o=t.dispatch,c=t.commit,d=t.state,l=r.token.tokenSelected,m=r.bulksender.gasPrice,e.next=5,n["bulksender/txFee"];case 5:f=e.sent,h=web3.toBigNumber(d.addressInfo.totalGas).times(web3.toBigNumber(m)).times(web3.toBigNumber(10).pow(9)),k=web3.toBigNumber(f*d.addressInfo.batches.length),T=h.plus(k),l.isETH&&(S=web3.toBigNumber(d.addressInfo.finalAmount).times(web3.toBigNumber(10).pow(18)),T=T.plus(S)),v=T.div(web3.toBigNumber(10).pow(18)).toNumber(),c("SET_ESTIMATED_ETH_COST",v),o("checkEtherEnough");case 14:case"end":return e.stop()}}),e)}))),function(e){return I.apply(this,arguments)})),Object(H.a)(o,"checkEtherEnough",(y=Object(V.a)(regeneratorRuntime.mark((function e(t){var r,n,o,c,d,l;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.rootState,t.rootGetters,t.dispatch,n=t.commit,o=t.state,c=r.metamask.balance,d=o.estimateETHCost,l=web3.toBigNumber(c).toNumber()>=web3.toBigNumber(d).toNumber(),n("SET_ETHER_ENOUGH",l),e.abrupt("return",l);case 6:case"end":return e.stop()}}),e)}))),function(e){return y.apply(this,arguments)})),Object(H.a)(o,"parseInsertAddresses",(_=Object(V.a)(regeneratorRuntime.mark((function e(t,r){var n,o,c;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.rootState,n=t.dispatch,t.commit,o=r.insertedAddress,c=(c=o.replace(/(\n[\s|\t]*\r*\n)/g,"\n").replace(/^\s+|\s+$/gm,"")).split("\n"),e.next=6,n("checkInsertAddresses",{addresses:c});case 6:return e.abrupt("return",!0);case 7:case"end":return e.stop()}}),e)}))),function(e,t){return _.apply(this,arguments)})),Object(H.a)(o,"updateBulkSentStatus",(O=Object(V.a)(regeneratorRuntime.mark((function e(t,r){var n,o,c,d,l,m,f,h,k,T;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=t.rootState,o=t.dispatch,c=t.commit,d=r.status,l=r.txHash,m=r.uniqueId,f=n.common.addressInfo,h=Object.assign({},f),k=h.batches,(T=Object.assign([],k)).some((function(e,t){var r=Object.assign({},e);if(e.uniqueId==m&&1!=r.status)return r.status=d,r.txHash=l,T.splice(t,1,r),!0})),h.batches=T,c("SET_ADDRESS_INFO",h),o("saveTxsToLocal",{status:d,txHash:l});case 10:case"end":return e.stop()}}),e)}))),function(e,t){return O.apply(this,arguments)})),Object(H.a)(o,"prepareBulksending",(A=Object(V.a)(regeneratorRuntime.mark((function e(t){var r,n,o,c,d,l,address,m,f,h,k,T,S,v,w,x,E,A,O,_,y,I,R,N,P;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.rootState,n=t.state,o=t.dispatch,c=t.commit,d=r.token,l=d.allowanceEnough,address=d.address,!l){e.next=4;break}return e.delegateYield(regeneratorRuntime.mark((function e(){var t,d,l,D,j,B,C,F,L,G,H,U,V,K,W;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=address,d=r.common.addressInfo,l=r.bulksender.maxGasUsed,D=Object.assign({},d),j=D.finalData,B=n.queryLimit,m=parseInt(Math.ceil(j.length/parseFloat(n.queryLimit))),C=[],F=[],f=0;case 10:if(!(f<m)){e.next=24;break}return h=f*B,k=B*(f+1),T=j.slice(h,k),S=[],T.forEach((function(e){S.push(e.address)})),console.info("Query balance",h,k),e.next=19,o("token/bulkQueryBalances",{tokenAddress:t,addresses:S},{root:!0});case 19:e.sent.forEach((function(e,t){var r=T[t];r.balance=e,e>0?C.push(r):F.push(r)}));case 21:f++,e.next=10;break;case 24:if(console.info("Holders",C.length),console.info("Freshers",F.length),L=[],G=[],C.some((function(e,t){if(t==n.maxTestingCount)return!0;L.push(e.address),G.push(e.amount)})),H=0,!L.length||!G.length){e.next=35;break}return e.next=33,o("bulksender/estimateGasForPerTransferUsedBulksender",{tokenAddress:t,testAddresses:L,testBalances:G},{root:!0});case 33:H=e.sent,console.info("estimateCostPerTransferOfHolder",H);case 35:if(-1!=H){e.next=37;break}throw Error("estimateCostPerTransferOfHolder error");case 37:if(L=[],G=[],F.some((function(e,t){if(t==n.maxTestingCount)return!0;L.push(e.address),G.push(e.amount)})),U=0,!L.length||!G.length){e.next=46;break}return e.next=44,o("bulksender/estimateGasForPerTransferUsedBulksender",{tokenAddress:t,testAddresses:L,testBalances:G},{root:!0});case 44:U=e.sent,console.info("estimateCostPerTransferOfFresher",U);case 46:if(-1!=U){e.next=48;break}throw Error("estimateCostPerTransferOfFresher error");case 48:F.length>0&&C.length>0&&(C=[],F=j),v=C.length,w=C.concat(F),x=[],E=[],V=w.length,K=0,W=0,A=0,f=0;case 58:if(!(f<V)){e.next=75;break}if(O=w[f],x.push(O),!((A+=f<v?H:U)>=l||f==V-1)){e.next=72;break}return _=x[0].address,y=x[x.length-1].address,I=_+"_"+y,E.push({uniqueId:I,txHash:"",status:-1,firstAddress:_,index:K,lastAddress:y,addressValues:x,count:x.length,estimateGas:A}),W+=A,K+=1,A=0,x=[],e.abrupt("continue",72);case 72:f++,e.next=58;break;case 75:return D.holders=C,D.freshers=F,D.batches=E,D.totalGas=W+1e5*E.length,D.times=E.length,R=Date.parse(new Date),N=10*Math.random(),P="TASKID_"+R+"_"+N,D.taskID=P,c("SET_ADDRESS_INFO",D),e.next=87,o("estimateTotalEtherCost");case 87:case"end":return e.stop()}}),e)}))(),"t0",4);case 4:return e.abrupt("return",!0);case 5:case"end":return e.stop()}}),e)}))),function(e){return A.apply(this,arguments)})),Object(H.a)(o,"saveTxsToLocal",(E=Object(V.a)(regeneratorRuntime.mark((function e(t,r){var n,o,c,d,l;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.dispatch,t.rootState,t.state,t.commit,o=r.status,c=r.txHash,e.prev=2,!(66==c.length&&c.indexOf("0x")>-1)){e.next=13;break}return e.next=6,n("getNetIdStorage",{});case 6:return d=e.sent,null!=(l=d.txs)&&null!=l||(l={}),l[c]=o,d.txs=l,e.next=13,n("updateNetIdStorage",{netStorage:d});case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(2),console.info(e.t0);case 18:case"end":return e.stop()}}),e,null,[[2,15]])}))),function(e,t){return E.apply(this,arguments)})),Object(H.a)(o,"updateTxStatusToLocal",(x=Object(V.a)(regeneratorRuntime.mark((function e(t,r){var n,o,c,d,l;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.dispatch,t.rootState,t.state,t.commit,o=r.status,c=r.txHash,e.prev=2,!(66==c.length&&c.indexOf("0x")>-1)){e.next=13;break}return e.next=6,n("getNetIdStorage",{});case 6:if(d=e.sent,null==(l=d.txs)||null==l||!l.hasOwnProperty(c)){e.next=13;break}return l[c]=o,d.txs=l,e.next=13,n("updateNetIdStorage",{netStorage:d});case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(2),console.info(e.t0);case 18:case"end":return e.stop()}}),e,null,[[2,15]])}))),function(e,t){return x.apply(this,arguments)})),Object(H.a)(o,"getLastTxs",(w=Object(V.a)(regeneratorRuntime.mark((function e(t){var r,n,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.dispatch,t.rootState,t.state,t.commit,n={},e.prev=2,e.next=5,r("getNetIdStorage",{});case 5:return o=e.sent,e.abrupt("return",o.txs);case 9:e.prev=9,e.t0=e.catch(2);case 11:return e.abrupt("return",n);case 12:case"end":return e.stop()}}),e,null,[[2,9]])}))),function(e){return w.apply(this,arguments)})),Object(H.a)(o,"clearLocalTxs",(v=Object(V.a)(regeneratorRuntime.mark((function e(t){var r,n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.dispatch,t.rootState,t.state,t.commit,e.prev=1,console.info(111111),e.next=5,r("getNetIdStorage",{});case 5:return(n=e.sent).txs={},e.next=9,r("updateNetIdStorage",{netStorage:n});case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),console.info(e.t0);case 14:case"end":return e.stop()}}),e,null,[[1,11]])}))),function(e){return v.apply(this,arguments)})),Object(H.a)(o,"checkLastTxs",(S=Object(V.a)(regeneratorRuntime.mark((function e(t){var r,n,o,c,d;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.rootState,t.state,r=t.dispatch,n=t.commit,e.next=3,r("getLastTxs");case 3:if(null==(o=e.sent)||null==o){e.next=23;break}c=!1,e.t0=regeneratorRuntime.keys(o);case 7:if((e.t1=e.t0()).done){e.next=14;break}if(!((d=e.t1.value).indexOf("0x")>-1&&66==d.length&&0==o[d])){e.next=12;break}return c=!0,e.abrupt("break",14);case 12:e.next=7;break;case 14:if(!c){e.next=19;break}return n("SET_UNFINISHED_TXS",o),e.abrupt("return",o);case 19:return e.next=21,r("clearLocalTxs");case 21:return n("SET_UNFINISHED_TXS",{}),e.abrupt("return",{});case 23:return e.abrupt("return",{});case 24:case"end":return e.stop()}}),e)}))),function(e){return S.apply(this,arguments)})),Object(H.a)(o,"checkInsertAddresses",(T=Object(V.a)(regeneratorRuntime.mark((function e(t,r){var n,o,c,d,l,m,f,h,k,T,S,v;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.rootState,n=t.commit,o=r.addresses,c=new Set,d=[],l=new Set,m=[],f=web3.toBigNumber(0),h=web3.toBigNumber(0),k=[],T=[],S=[],v=[],o.forEach((function(e,t){var r=e.split(",");r.length<2&&(r=e.split(""));var address=r[0].replace(/(\n[\s|\t]*\r*\n)/g,"\n").replace(/^\s+|\s+$/gm,""),n=r[1],o=!0,w=!1;if(!Object(W.isAddress)(address)||"0x0000000000000000000000000000000000000000"==address.toLowerCase()||isNaN(n)){var x=0;(isNaN(n)||0==n||"0"==n)&&(x=1,Object(W.isAddress)(address)||(x=2)),l.add({index:t,address:address,errorType:x}),m.push(t),o=!1}else{address=Object(W.toChecksumAddress)(address);var E=web3.toBigNumber(n);n=E.toNumber(),h=h.plus(E),k.push({address:address,amount:n,amountStr:E.toString(10)}),-1==v.indexOf(address)?(v.push(address),T.push({address:address,amount:n,amountStr:E.toString(10)}),f=f.plus(E)):(w=!0,c.add(address),d.push(t))}var A=n;try{A=web3.toBigNumber(n).toString(10)}catch(e){}S.push({address:address,amount:n,amountStr:A,valid:o,duplicated:w})})),f=f.toNumber(),h=h.toNumber(),c=Array.from(c),l=Array.from(l),n("SET_ADDRESS_INFO",{validAmount:h,nonDuplicatedAmount:f,originalData:S,originalAddressStr:o,duplicatedAddresses:c,duplicatedAddressesIndexes:d,invalidAddresses:l,invalidAddressesIndexes:m,validData:k,nonDuplicatedData:T,finalData:S,finalAmount:f});case 19:case"end":return e.stop()}}),e)}))),function(e,t){return T.apply(this,arguments)})),Object(H.a)(o,"combineBalances",(k=Object(V.a)(regeneratorRuntime.mark((function e(t,r){var n,o,c,d,l;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.rootState,o=t.commit,t.dispatch,t.state,Object(U.a)(r),c=[],d=n.common.addressInfo,(l=Object.assign({},d)).validData.forEach((function(e){this[e.address]||(this[e.address]={address:e.address,amount:web3.toBigNumber(0)},c.push(this[e.address]));var t=web3.toBigNumber(e.amount),r=web3.toBigNumber(this[e.address].amount);this[e.address].amount=r.plus(t).toNumber(),this[e.address].amountStr=r.plus(t).toString(10)}),Object.create(null)),l.combinedData=c,l.finalData=c,l.finalAmount=d.validAmount,l.invalidAddressesIndexes=[],l.invalidAddresses=[],l.duplicatedAddressesIndexes=[],l.duplicatedAddresses=[],o("SET_ADDRESS_INFO",l),e.abrupt("return",!0);case 15:case"end":return e.stop()}}),e)}))),function(e,t){return k.apply(this,arguments)})),Object(H.a)(o,"keepFirstOne",(h=Object(V.a)(regeneratorRuntime.mark((function e(t,r){var n,o,c,d;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.rootState,o=t.commit,t.dispatch,t.state,Object(U.a)(r),c=n.common.addressInfo,(d=Object.assign({},c)).finalData=c.nonDuplicatedData,d.finalAmount=c.nonDuplicatedAmount,d.invalidAddressesIndexes=[],d.invalidAddresses=[],d.duplicatedAddressesIndexes=[],d.duplicatedAddresses=[],o("SET_ADDRESS_INFO",d),e.abrupt("return",!0);case 12:case"end":return e.stop()}}),e)}))),function(e,t){return h.apply(this,arguments)})),Object(H.a)(o,"deleteInvalidAddresses",(f=Object(V.a)(regeneratorRuntime.mark((function e(t,r){var n,o,c,d,l,m,f;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.rootState,o=t.commit,t.dispatch,t.state,Object(U.a)(r),c=n.common.addressInfo,d=Object.assign({},c),l=d.validData,d.duplicatedAddressesIndexes.length>0&&(m=[],f=[],l.forEach((function(e,t){-1!=m.indexOf(e.address)?f.push(t):m.push(e.address)})),d.duplicatedAddressesIndexes=f),d.finalData=l,d.finalAmount=c.validAmount,d.invalidAddressesIndexes=[],d.invalidAddresses=[],o("SET_ADDRESS_INFO",d),e.abrupt("return",!0);case 12:case"end":return e.stop()}}),e)}))),function(e,t){return f.apply(this,arguments)})),Object(H.a)(o,"readFileAsync",(m=Object(V.a)(regeneratorRuntime.mark((function e(t,r){var n,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.rootState,t.commit,t.dispatch,t.state,n=r.fileData,o=n,e.abrupt("return",new Promise((function(e,t){var r=new FileReader;r.onload=function(){for(var t="",n=new Uint8Array(r.result),o=n.byteLength,i=0;i<o;i++)t+=String.fromCharCode(n[i]);var c=M.a.read(t,{type:"binary"}),d=c.SheetNames[0],l=c.Sheets[d],data=M.a.utils.sheet_to_csv(l);e(data)},r.onerror=t,r.readAsArrayBuffer(o)})));case 4:case"end":return e.stop()}}),e)}))),function(e,t){return m.apply(this,arguments)})),Object(H.a)(o,"parseFile",(l=Object(V.a)(regeneratorRuntime.mark((function e(t,r){var n,o,c,d;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.rootState,t.commit,n=t.dispatch,t.rootGetters,t.state,o=r.fileData,e.prev=2,e.next=5,n("readFileAsync",{fileData:o});case 5:return c=e.sent,e.next=8,n("parseInsertAddresses",{insertedAddress:c});case 8:return e.abrupt("return",!0);case 11:return e.prev=11,e.t0=e.catch(2),console.info(e.t0),e.next=16,n("uploadFile",{fileData:o});case 16:return d=e.sent,e.abrupt("return",d);case 18:case"end":return e.stop()}}),e,null,[[2,11]])}))),function(e,t){return l.apply(this,arguments)})),Object(H.a)(o,"uploadFile",(d=Object(V.a)(regeneratorRuntime.mark((function e(t,r){var n,o,c,data,d,l,m,f;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.rootState,t.commit,o=t.dispatch,t.rootGetters,t.state,c=r.fileData,n.metamask.netId,e.prev=3,(data=new FormData).append("file",c),d=new Request("http://127.0.0.1:5000/upload",{method:"POST",body:data}),e.next=10,fetch(d);case 10:if(200!==(l=e.sent).status){e.next=26;break}return e.next=14,l.json();case 14:if(0!=(m=e.sent).code&&!m.success){e.next=22;break}return f=m.data,e.next=19,o("checkInsertAddresses",{addresses:f});case 19:return e.abrupt("return",!0);case 22:throw Error("Upload file failed");case 24:e.next=28;break;case 26:throw Error("Upload file failed");case 28:e.next=34;break;case 30:return e.prev=30,e.t0=e.catch(3),console.error(e.t0),e.abrupt("return",!1);case 34:case"end":return e.stop()}}),e,null,[[3,30]])}))),function(e,t){return d.apply(this,arguments)})),Object(H.a)(o,"checkUnfinishedTransactionStatus",(c=Object(V.a)(regeneratorRuntime.mark((function e(t,r){var n,o,c,d,l,m;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.state,t.getters,n=t.rootGetters,t.rootState,o=t.dispatch,t.commit,c=r.txHash,d=n["metamask/networkConfig"].smartContractShortPollTime,e.prev=3,console.info(c),e.next=7,o("metamask/getTransactionReceipt",{txHash:c},{root:!0});case 7:if(null==(l=e.sent)){e.next=17;break}return m="0x1"==(m=l.status)||1==m?1:-2,e.next=13,o("updateTxStatusToLocal",{status:m,txHash:c});case 13:return e.next=15,o("checkLastTxs",{});case 15:e.next=18;break;case 17:setTimeout((function(){o("checkUnfinishedTransactionStatus",{txHash:c})}),1e3*d);case 18:e.next=24;break;case 20:e.prev=20,e.t0=e.catch(3),console.info("checking error",e.t0),setTimeout((function(){o("checkUnfinishedTransactionStatus")}),1e3*d);case 24:case"end":return e.stop()}}),e,null,[[3,20]])}))),function(e,t){return c.apply(this,arguments)})),o);t.default={namespaced:!0,state:function(){return{step:1,language:"EN",headerClosed:!1,translationWord:{},inputType:0,addressesInsertWay:0,code:"",estimateETHCost:0,etherEnough:!0,queryLimit:1e3,maxTestingCount:5,estimateCostPerTransferOfFresher:4e4,estimateCostPerTransferOfHolder:25e3,sendLoading:!1,sendingIndex:0,unFinishedTxs:{},currentRouter:null,addressInfo:{taskID:"",nonAmount:0,validAmount:0,nonDuplicatedAmount:0,originalData:[],originalAddressStr:[],duplicatedAddresses:[],duplicatedAddressesIndexes:[],invalidAddresses:[],invalidAddressesIndexes:[],validData:[],combinedData:[],nonDuplicatedData:[],finalData:[],finalAmount:0,batches:[],times:1,batchSize:100,holders:[],freshers:[],estimateGasUsed:0}}},getters:Y,mutations:{SET_STEP:function(e,t){e.step=t},SET_INPUT_TYPE:function(e,t){e.inputType=t},SET_CODE:function(e,code){e.code=code},SET_HEADER_CLOSED:function(e,t){e.headerClosed=t},SET_LANGUAGE:function(e,t){e.language=t},SET_ORIGIN_INPUT_DATA:function(e,t){e.originInputData=t},SET_ADDRESS_INFO:function(e,t){e.addressInfo=t},SET_ESTIMATED_COST_PER_TRANSFER_OF_FRESHER:function(e,t){e.estimateCostPerTransferOfFresher=t},SET_ESTIMATED_COST_PER_TRANSFER_OF_HOLDER:function(e,t){e.estimateCostPerTransferOfHolder=t},SET_SEND_LOADING:function(e,t){e.sendLoading=t},SET_ESTIMATED_ETH_COST:function(e,t){e.estimateETHCost=t},SET_ETHER_ENOUGH:function(e,t){e.etherEnough=t},SET_ADDRESSES_INSERT_WAY:function(e,t){e.addressesInsertWay=t},SET_SENDING_INDEX:function(e,t){e.sendingIndex=t},SET_UNFINISHED_TXS:function(e,t){e.unFinishedTxs=t},SET_CURRENT_ROUTER:function(e,t){e.currentRouter=t}},actions:Q}}},[[623,60,42,44,41,43,38,1,14,13,37,0,36,28,11,21,2,18,17,16,25,4,12,20,32,39,7,23,27,33,6,24,35,29,31,19,30,34,8,9,22,15,26,3,40,5]]]);